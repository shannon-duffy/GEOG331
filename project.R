#reading in flow data
library(ncdf4)
ncar<-nc_open("coastal-stns-Vol-monthly.updated-Aug2014.nc")
{
  sink("coastal-stns-Vol-monthly.updated-Aug2014-metadata.txt")
  print(ncar)
  sink()
}
time<-ncvar_get(ncar, ncar$dim$time)
time
View(time)
station<-ncvar_get(ncar, ncar$dim$station)
station
flow<-ncvar_get(ncar, ncar$var$FLOW)
View(flow)
dim(flow)
#subset flow for Kinshasa 2000-2010
flow.kinshasa<-flow[2,1201:1332]
station_name<-ncvar_get(ncar, ncar$var$stn_name)
station_name
river_name<-ncvar_get(ncar, ncar$var$riv_name)
View(river_name)
View(flow.kinshasa)
plot(flow.kinshasa, type="l")

#read in tree cover data
coverstats<-read.csv('coverstats.csv')
cover2000<-coverstats$treecover2000
gainstats<-read.csv('gainstats.csv')
gain2000_2019<-gainstats$gain
gain2000_2019/cover2000
#only 0.006% of forest area has been gained from 2000-2019
lossstats<-read.csv('lossstats.csv')
head(lossstats)

#read in precip from GPCP
precip<-nc_open("congoprecip.nc")
{
  sink("congoprecip-metadata.txt")
  print(precip)
  sink()
}
congoprecip<-ncvar_get(precip, precip$var$precip)
View(congoprecip)
dim(congoprecip)

#read in precip from World Clim
library(raster)
library(sp)
library(rgdal)
library(rgeos)
library(plyr)
library(tiff)
install.packages("sf")
library(sf)
#read in cropping shapefile
congo_polyline<-readOGR("congo_basin_polyline/congo_basin_polyline.shp")
#convert line to polygon
congo_polyline_sf<-st_as_sf(congo_polyline)
congo_line_poly<-st_polygonize(congo_polyline_sf)
congoshed<-as(congo_line_poly, "Spatial")

congo_polygon<-readOGR("congoshape/congoshape.shp")
#read in the tif images and crop to shapefile
prec01.2000<-mask(raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-01.tif"), congo_polygon)
plot(prec01.2000.congo)
plot(congo_polyline)

prec02.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-02.tif")
prec03.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-03.tif")
prec04.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-04.tif")
prec05.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-05.tif")
prec06.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-06.tif")
prec07.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-07.tif")
prec08.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-08.tif")
prec09.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-09.tif")
prec10.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-10.tif")
prec11.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-11.tif")
prec12.2000<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2000-12.tif")
prec01.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-01.tif")
prec02.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-02.tif")
prec03.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-03.tif")
prec04.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-04.tif")
prec05.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-05.tif")
prec06.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-06.tif")
prec07.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-07.tif")
prec08.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-08.tif")
prec09.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-09.tif")
prec10.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-10.tif")
prec11.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-11.tif")
prec12.2001<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2001-12.tif")
prec01.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-01.tif")
prec02.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-02.tif")
prec03.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-03.tif")
prec04.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-04.tif")
prec05.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-05.tif")
prec06.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-06.tif")
prec07.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-07.tif")
prec08.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-08.tif")
prec09.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-09.tif")
prec10.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-10.tif")
prec11.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-11.tif")
prec12.2002<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2002-12.tif")
prec01.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-01.tif")
prec02.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-02.tif")
prec03.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-03.tif")
prec04.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-04.tif")
prec05.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-05.tif")
prec06.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-06.tif")
prec07.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-07.tif")
prec08.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-08.tif")
prec09.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-09.tif")
prec10.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-10.tif")
prec11.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-11.tif")
prec12.2003<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2003-12.tif")
prec01.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-01.tif")
prec02.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-02.tif")
prec03.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-03.tif")
prec04.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-04.tif")
prec05.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-05.tif")
prec06.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-06.tif")
prec07.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-07.tif")
prec08.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-08.tif")
prec09.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-09.tif")
prec10.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-10.tif")
prec11.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-11.tif")
prec12.2004<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2004-12.tif")
prec01.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-01.tif")
prec02.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-02.tif")
prec03.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-03.tif")
prec04.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-04.tif")
prec05.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-05.tif")
prec06.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-06.tif")
prec07.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-07.tif")
prec08.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-08.tif")
prec09.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-09.tif")
prec10.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-10.tif")
prec11.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-11.tif")
prec12.2005<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2005-12.tif")
prec01.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-01.tif")
prec02.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-02.tif")
prec03.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-03.tif")
prec04.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-04.tif")
prec05.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-05.tif")
prec06.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-06.tif")
prec07.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-07.tif")
prec08.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-08.tif")
prec09.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-09.tif")
prec10.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-10.tif")
prec11.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-11.tif")
prec12.2006<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2006-12.tif")
prec01.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-01.tif")
prec02.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-02.tif")
prec03.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-03.tif")
prec04.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-04.tif")
prec05.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-05.tif")
prec06.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-06.tif")
prec07.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-07.tif")
prec08.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-08.tif")
prec09.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-09.tif")
prec10.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-10.tif")
prec11.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-11.tif")
prec12.2007<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2007-12.tif")
prec01.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-01.tif")
prec02.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-02.tif")
prec03.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-03.tif")
prec04.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-04.tif")
prec05.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-05.tif")
prec06.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-06.tif")
prec07.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-07.tif")
prec08.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-08.tif")
prec09.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-09.tif")
prec10.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-10.tif")
prec11.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-11.tif")
prec12.2008<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2008-12.tif")
prec01.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-01.tif")
prec02.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-02.tif")
prec03.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-03.tif")
prec04.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-04.tif")
prec05.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-05.tif")
prec06.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-06.tif")
prec07.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-07.tif")
prec08.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-08.tif")
prec09.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-09.tif")
prec10.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-10.tif")
prec11.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-11.tif")
prec12.2009<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2009-12.tif")
prec01.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-01.tif")
prec02.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-02.tif")
prec03.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-03.tif")
prec04.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-04.tif")
prec05.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-05.tif")
prec06.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-06.tif")
prec07.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-07.tif")
prec08.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-08.tif")
prec09.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-09.tif")
prec10.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-10.tif")
prec11.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-11.tif")
prec12.2010<-raster("wc2.1_2.5m_prec_2000-2009 (1)/wc2.1_2.5m_prec_2010-12.tif")
